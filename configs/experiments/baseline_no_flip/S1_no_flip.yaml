# S1 No-Flip Configuration
# Version: v1
# Dataset: CME.MNQ
# Timeframe: 60 minutes
# Features: Non-directional features only (channel, volatility, reversion, structure, time)
# Design: Excludes all MA, momentum, trend, and regime features

version: "v1"
strategy_id: "S1"
dataset_id: "CME.MNQ"
timeframe: 60
features:
  required:
    # Channel Features - Bollinger Bands
    - name: "bb_pb_5"
      timeframe_min: 60
    - name: "bb_pb_10"
      timeframe_min: 60
    - name: "bb_pb_20"
      timeframe_min: 60
    - name: "bb_pb_40"
      timeframe_min: 60
    - name: "bb_pb_80"
      timeframe_min: 60
    - name: "bb_pb_160"
      timeframe_min: 60
    - name: "bb_pb_252"
      timeframe_min: 60
    - name: "bb_width_5"
      timeframe_min: 60
    - name: "bb_width_10"
      timeframe_min: 60
    - name: "bb_width_20"
      timeframe_min: 60
    - name: "bb_width_40"
      timeframe_min: 60
    - name: "bb_width_80"
      timeframe_min: 60
    - name: "bb_width_160"
      timeframe_min: 60
    - name: "bb_width_252"
      timeframe_min: 60
    
    # Channel Features - ATR Channel
    - name: "atr_ch_upper_5"
      timeframe_min: 60
    - name: "atr_ch_upper_10"
      timeframe_min: 60
    - name: "atr_ch_upper_14"
      timeframe_min: 60
    - name: "atr_ch_upper_20"
      timeframe_min: 60
    - name: "atr_ch_upper_40"
      timeframe_min: 60
    - name: "atr_ch_upper_80"
      timeframe_min: 60
    - name: "atr_ch_upper_160"
      timeframe_min: 60
    - name: "atr_ch_upper_252"
      timeframe_min: 60
    - name: "atr_ch_lower_5"
      timeframe_min: 60
    - name: "atr_ch_lower_10"
      timeframe_min: 60
    - name: "atr_ch_lower_14"
      timeframe_min: 60
    - name: "atr_ch_lower_20"
      timeframe_min: 60
    - name: "atr_ch_lower_40"
      timeframe_min: 60
    - name: "atr_ch_lower_80"
      timeframe_min: 60
    - name: "atr_ch_lower_160"
      timeframe_min: 60
    - name: "atr_ch_lower_252"
      timeframe_min: 60
    - name: "atr_ch_pos_5"
      timeframe_min: 60
    - name: "atr_ch_pos_10"
      timeframe_min: 60
    - name: "atr_ch_pos_14"
      timeframe_min: 60
    - name: "atr_ch_pos_20"
      timeframe_min: 60
    - name: "atr_ch_pos_40"
      timeframe_min: 60
    - name: "atr_ch_pos_80"
      timeframe_min: 60
    - name: "atr_ch_pos_160"
      timeframe_min: 60
    - name: "atr_ch_pos_252"
      timeframe_min: 60
    
    # Channel Features - Donchian Width
    - name: "donchian_width_5"
      timeframe_min: 60
    - name: "donchian_width_10"
      timeframe_min: 60
    - name: "donchian_width_20"
      timeframe_min: 60
    - name: "donchian_width_40"
      timeframe_min: 60
    - name: "donchian_width_80"
      timeframe_min: 60
    - name: "donchian_width_160"
      timeframe_min: 60
    - name: "donchian_width_252"
      timeframe_min: 60
    
    # Channel Features - HH/LL Distance
    - name: "dist_hh_5"
      timeframe_min: 60
    - name: "dist_hh_10"
      timeframe_min: 60
    - name: "dist_hh_20"
      timeframe_min: 60
    - name: "dist_hh_40"
      timeframe_min: 60
    - name: "dist_hh_80"
      timeframe_min: 60
    - name: "dist_hh_160"
      timeframe_min: 60
    - name: "dist_hh_252"
      timeframe_min: 60
    - name: "dist_ll_5"
      timeframe_min: 60
    - name: "dist_ll_10"
      timeframe_min: 60
    - name: "dist_ll_20"
      timeframe_min: 60
    - name: "dist_ll_40"
      timeframe_min: 60
    - name: "dist_ll_80"
      timeframe_min: 60
    - name: "dist_ll_160"
      timeframe_min: 60
    - name: "dist_ll_252"
      timeframe_min: 60
    
    # Volatility Features - ATR
    - name: "atr_5"
      timeframe_min: 60
    - name: "atr_10"
      timeframe_min: 60
    - name: "atr_14"
      timeframe_min: 60
    - name: "atr_20"
      timeframe_min: 60
    - name: "atr_40"
      timeframe_min: 60
    
    # Volatility Features - Standard Deviation
    - name: "stdev_10"
      timeframe_min: 60
    - name: "stdev_20"
      timeframe_min: 60
    - name: "stdev_40"
      timeframe_min: 60
    - name: "stdev_60"
      timeframe_min: 60
    - name: "stdev_100"
      timeframe_min: 60
    - name: "stdev_200"
      timeframe_min: 60
    
    # Volatility/Reversion Features - Z-score
    - name: "zscore_20"
      timeframe_min: 60
    - name: "zscore_40"
      timeframe_min: 60
    - name: "zscore_60"
      timeframe_min: 60
    - name: "zscore_100"
      timeframe_min: 60
    - name: "zscore_200"
      timeframe_min: 60
    
    # Reversion Features - Percentile
    - name: "percentile_63"
      timeframe_min: 60
    - name: "percentile_126"
      timeframe_min: 60
    - name: "percentile_252"
      timeframe_min: 60
    
    # Structure Features - Session VWAP
    - name: "session_vwap"
      timeframe_min: 60
    
    # Note: Time features (hour_of_day, day_of_week, month_of_year) are not yet in registry
    # Will be added when available
    
  optional: []
params: {}
allow_build: false
notes: |
  S1 No-Flip configuration using only non-directional features.
  
  Design Principles:
  1. Excludes all MA variants (sma, ema, wma)
  2. Excludes all momentum indicators (rsi, momentum, roc)
  3. Excludes all trend indicators (adx, cci, etc.)
  4. Excludes all regime features
  
  Feature Families Included:
  - Channel: Bollinger Bands, ATR Channel, Donchian, HH/LL Distance
  - Volatility: ATR, Standard Deviation, Z-score
  - Reversion: Percentile, Z-score
  - Structure: Session VWAP
  - Time: (To be added when available)
  
  Window Sets:
  - General: [5, 10, 20, 40, 80, 160, 252]
  - Statistical: [63, 126, 252]
  
  Maximum Lookback: 252 bars
  Warmup Period: 252 bars for percentile_252 feature
  NaN Handling: Standard warmup period with NaN propagation
  
  This configuration is research-ready with allow_build=False.
  All features must be available in the feature cache.
