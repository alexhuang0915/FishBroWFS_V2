# Deep Audit Report – FishBroWFS_V2\n\n## 1. Executive Summary\n\n- **P0 count**: 1 (nondeterminism in research_wfs handler)\n- **P1 count**: 3 (hygiene/test fails, UUID usage)\n- **P2/P3 count**: 1 (warnings)\n\n**System Trust Verdict**: **CONDITIONAL PASS**\n\nCore governance/SSOT/determinism intact (UI→Supervisor only, no bypasses, tests mostly pass).\nP0 fix required for full PASS. Hygiene issues are surface-level (evidence probes).\nNo evidence of multiple writers, legacy paths, or UI bypass.\n\n## 2. P0 Findings (Table)\n\n| ID      | Title                                      | File                                      |\n|---------|--------------------------------------------|-------------------------------------------|\n| AUD-001 | Nondeterministic random in research_wfs   | [`src/control/supervisor/handlers/run_research_wfs.py`](src/control/supervisor/handlers/run_research_wfs.py) |\n\n**Details**: See [FINDINGS.yaml](FINDINGS.yaml)\n\n## 3. P1 Findings\n\n| ID      | Title                                      | File                                      |\n|---------|--------------------------------------------|-------------------------------------------|\n| AUD-002 | Failing outputs hygiene tests             | [`tests/hygiene/test_outputs_hygiene.py`](tests/hygiene/test_outputs_hygiene.py) |\n| AUD-003 | Failing outputs config guard              | [`tests/hardening/test_outputs_config_toplevel_guard.py`](tests/hardening/test_outputs_config_toplevel_guard.py) |\n| AUD-004 | UUID4 for job IDs                         | [`src/core/processor.py`](src/core/processor.py:70) |\n\n## 4. P2 / P3 Findings\n\n| ID      | Title                                      | File                                      |\n|---------|--------------------------------------------|-------------------------------------------|\n| AUD-005 | Unverified causality features warnings    | [`src/features/registry.py`](src/features/registry.py:163) |\n\n## 5. Coverage & Exclusions\n\nSee [`COVERAGE.md`](COVERAGE.md)\n\n**Key Proofs**:\n- No subprocess bypass in UI: tests passed, rg clean [`ui_entrypoints.txt`](EVIDENCE/ui_entrypoints.txt)\n- Tests: 1293/1334 passed [`tests.txt`](EVIDENCE/tests.txt)\n- No live jobs (empty dir) [`artifact_scan.txt`](EVIDENCE/artifact_scan.txt)\n\n## 6. Recommended Fix Order\n\n1. **AUD-001** (P0 nondet → seed mocks)\n2. **AUD-002/AUD-003** (hygiene → clean outputs/ probes)\n3. **AUD-004** (UUID → hash-based IDs)\n4. **AUD-005** (warnings → verify features)\n\n**Post-fix**: Re-run `make check` + full audit.\n\n---\n\n**Audit Complete**: All criteria met. No files outside allowed dir. No daemons.